<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gamers Defy the Impossible</title>
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>🎮</text></svg>">
    
    <!-- External CSS -->
    <link rel="stylesheet" href="assets/css/style.css">
    
    <!-- Section Template System -->
    <script src="components/section-templates.js"></script>
    <script src="components/section-loader.js"></script>
    <!-- Fallback Simple Sections -->
    <script src="simple-sections.js"></script>
</head>
<body>
    <div class="container" id="main-container">
        <!-- 마인크래프트 스타일 헤더 -->
        <div class="header">
            <div class="minecraft-logo">
██████╗  █████╗ ███╗   ███╗███████╗    ██████╗ ███████╗██╗   ██╗
██╔════╝ ██╔══██╗████╗ ████║██╔════╝    ██╔══██╗██╔════╝██║   ██║
██║  ███╗███████║██╔████╔██║█████╗      ██║  ██║█████╗  ██║   ██║
██║   ██║██╔══██║██║╚██╔╝██║██╔══╝      ██║  ██║██╔══╝  ╚██╗ ██╔╝
╚██████╔╝██║  ██║██║ ╚═╝ ██║███████╗    ██████╔╝███████╗ ╚████╔╝ 
 ╚═════╝ ╚═╝  ╚═╝╚═╝     ╚═╝╚══════╝    ╚═════╝ ╚══════╝  ╚═══╝
            </div>
            <h1 class="name">김경한</h1>
            <p class="title" id="dynamic-title" title="Loading rank information...">🎮 GAME DEVELOPER • CALCULATING... • UNITY & UNREAL MASTER 🎮</p>
            <div class="contact-info">
                <a href="mailto:kpoint776@email.com" class="contact-item">📧 kpoint776@email.com</a>
                <a href="tel:010-7160-2440" class="contact-item">📱 010-7160-2440</a>
                <a href="https://github.com/adf789" target="_blank" rel="noopener noreferrer" class="contact-item">🔗 github.com/adf789</a>
            </div>
            
            <!-- Export 버튼들 -->
            <div class="export-buttons">
                <button class="export-btn" onclick="window.exportToWord()" title="Word 문서로 내보내기">
                    <span class="export-icon">📄</span>
                    WORD로 내보내기
                </button>
                <button class="export-btn" onclick="window.exportToPDF()" title="PDF로 내보내기">
                    <span class="export-icon">📋</span>
                    PDF로 내보내기
                </button>
            </div>
        </div>

        <!-- 섹션들은 JavaScript로 동적 로드됩니다 -->
        <div id="loading-message" style="text-align: center; padding: 50px; color: #666;">
            🔄 섹션을 로드하는 중...
        </div>
    </div>

    <!-- JavaScript -->
    <script src="assets/js/main.js"></script>
    
    <!-- 전역 함수 정의 (모듈 로딩 전 즉시 사용 가능) -->
    <script>
        // toggleDetails 함수 즉시 정의
        window.toggleDetails = function(projectId) {
            // UIInteractions가 로드되면 해당 인스턴스 사용, 아니면 기본 동작
            if (window.UIInteractions) {
                window.UIInteractions.toggleDetails(projectId);
            } else {
                // 폴백: 기본 토글 동작
                const details = document.getElementById(projectId);
                if (details) {
                    const isVisible = details.style.display === 'block';
                    details.style.display = isVisible ? 'none' : 'block';
                    
                    const button = document.querySelector(`[onclick="toggleDetails('${projectId}')"]`);
                    if (button) {
                        button.textContent = isVisible ? 'VIEW TECHNICAL DETAILS' : 'HIDE TECHNICAL DETAILS';
                    }
                }
            }
        };
        
        // 이미지 모달 함수들도 즉시 정의
        window.openImageModal = function(img) {
            if (window.UIInteractions) {
                window.UIInteractions.openImageModal(img);
            }
        };
        
        window.closeImageModal = function() {
            if (window.UIInteractions) {
                window.UIInteractions.closeImageModal();
            } else {
                // 폴백: 기본 모달 닫기
                const modal = document.getElementById('imageModal');
                if (modal) modal.style.display = 'none';
            }
        };
    </script>
    
    <!-- Modules (load after main.js) -->
    <script type="module" src="modules/career-manager.js"></script>
    <script type="module" src="modules/ui-interactions.js"></script>
    <script type="module" src="modules/animations.js"></script>
    <script type="module" src="modules/media-manager.js"></script>
    <script type="module" src="modules/performance-monitor.js"></script>
    <script type="module" src="modules/content-generator.js"></script>
    <script type="module" src="modules/section-system.js"></script>
    
    <!-- 이미지 모달 -->
    <div id="imageModal" class="modal" onclick="closeImageModal()">
        <div class="modal-content">
            <span class="modal-close" onclick="closeImageModal()">&times;</span>
            <img id="modalImage" src="" alt="">
            <div id="modalCaption" class="modal-caption"></div>
        </div>
    </div>
</body>
</html>